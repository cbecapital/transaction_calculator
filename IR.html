<html lang="en"> 
<head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Interest Rate Calculator</title> 
  <link rel="stylesheet" href="equity.css">
</head> 
<body>     

<video autoplay muted loop id="bg-video">
  <source src="cbe-logo-2.mp4" type="video/mp4">
</video>

<button class="home-btn" onclick="location.href='index.html'">Home</button>

<div class="container"> 
  <div class="ticker">
  <div class="ticker-label">Updated on setember 30, 2025 12:00pm Closing Prices: </div>
    <div class="ticker-content">
      <span>WGBX: 1200</span>
      <span>GDAB: 1057</span>
      <span>TBL182D: 4700</span>
      <span>IBMM: 15.3973%</span>
      <!-- duplicate for smooth infinite loop -->
      <span>WGBX: 1200</span>
      <span>GDAB: 1057</span>
      <span>TBL182D: 4700</span>
      <span>IBMM: 15.3973%</span>
           <span>WGBX: 1200</span>

    </div>
  </div>
<div></div>
<div></div>
  <h1>Interest Rate Calculator</h1>

  

  <!-- INTEREST CALCULATOR SECTION -->
<div id="interestSection" style="margin-top:20px;">
    <h2>Flexible Interest Calculator</h2>

    <label for="principal">Amount (ETB):</label>
    <input type="text" id="principal" placeholder="e.g. 10,000" 
           oninput="formatNumberInput(this)">

    <label for="rate">Annual Interest Rate (%):</label>
    <input type="text" id="rate" placeholder="e.g. 5" 
           oninput="formatNumberInput(this)">

    <label for="time">Time Period:</label>
    <input type="text" id="time" placeholder="e.g. 2" 
           oninput="formatNumberInput(this)">

    <label for="unit">Select Time Unit:</label>
    <select id="unit">
      <option value="years">Years</option>
      <option value="months">Months</option>
      <option value="weeks">Weeks</option>
      <option value="days">Days</option>
    </select>

    <button onclick="calculateInterest()">Calculate</button>
    <div id="interestResult"></div>
  </div>
</div>

<script>
function showSection(sectionId) {
  document.getElementById(sectionId).style.display = "block";
}

// Format numbers with commas
function formatNumberInput(input) {
  let value = input.value.replace(/,/g, ""); 
  if (!isNaN(value) && value !== "") {
    input.value = Number(value).toLocaleString("en-US");
  }
}

// Flexible Interest Calculator
function calculateInterest() {
  const rawPrincipal = document.getElementById("principal").value.replace(/,/g, "");
  const rawRate = document.getElementById("rate").value.replace(/,/g, "");
  const rawTime = document.getElementById("time").value.replace(/,/g, "");
  const unit = document.getElementById("unit").value;

  const principal = parseFloat(rawPrincipal);
  const annualRate = parseFloat(rawRate);
  const time = parseFloat(rawTime);

  if (isNaN(principal) || principal <= 0) {
    alert("Please enter a valid amount.");
    return;
  }
  if (isNaN(annualRate) || annualRate <= 0) {
    alert("Please enter a valid interest rate.");
    return;
  }
  if (isNaN(time) || time <= 0) {
    alert("Please enter a valid time period.");
    return;
  }

  // Convert annual rate to chosen unit
  let ratePerUnit;
  switch(unit) {
    case "years":
      ratePerUnit = annualRate / 100;
      break;
    case "months":
      ratePerUnit = (annualRate / 12) / 100;
      break;
    case "weeks":
      ratePerUnit = (annualRate / 52) / 100;
      break;
    case "days":
      ratePerUnit = (annualRate / 365) / 100;
      break;
    default:
      ratePerUnit = annualRate / 100;
  }

  // Simple Interest: P Ã— R Ã— T
  const interest = principal * ratePerUnit * time;
  const total = principal + interest;
  const tax = 0.10; 
    const totalwith  = interest * tax ;
        const Intrestwithtax  = interest - totalwith ;

        const totalwithTAX  = total - totalwith ;



  const resultDiv = document.getElementById("interestResult");
  resultDiv.style.display = "block";

  resultDiv.innerHTML = `
    <h4>ðŸ“Š Interest Calculation Result</h4>
<table class="result-table">
  <tr><td>Principal</td><td>${principal.toLocaleString("en-US")} ETB</td></tr>
  <tr><td>Rate</td><td>${annualRate}% per year</td></tr>
  <tr><td>Time</td><td>${time} ${unit}</td></tr>
  <tr><td><strong>Interest</strong></td><td><strong>${interest.toLocaleString("en-US")} ETB</strong></td></tr>
  <tr><td><strong>Total Amount</strong></td><td><strong>${total.toLocaleString("en-US")} ETB</strong></td></tr>
</table>

<h4>ðŸ’° Interest After 10% Tax</h4>
<table class="result-table">
  <tr><td><strong>Interest After Tax </strong></td><td><strong>${Intrestwithtax.toLocaleString("en-US")} ETB</strong></td></tr>
  <tr><td><strong>Total After Tax</strong></td><td><strong>${totalwithTAX.toLocaleString("en-US")} ETB</strong></td></tr>
</table>

  `;
}
</script>
</body>
</html>
